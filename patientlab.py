patients  = [
"id:1,name:Ali Khan,age:45,doctor:Dr. Ahmed,hr:88,bp:120/80,glucose:110,feedback:Good",
"id:2,name:Ayesha Noor,age:63,doctor:Dr. Sara,hr:102,bp:145/95,glucose:160,feedback:Critical",
"id:3,name:Usman Tariq,age:52,doctor:Dr. Ahmed,hr:76,bp:118/78,glucose:95,feedback:Excellent",
"id:4,name:Sana Fatima,age:29,doctor:Dr. Bilal,hr:91,bp:130/85,glucose:125,feedback:Good",
"id:5,name:Hamza Ali,age:38,doctor:Dr. Sara,hr:110,bp:150/92,glucose:180,feedback:Critical",
"id:6,name:Maryam Iqbal,age:71,doctor:Dr. Ahmed,hr:82,bp:135/88,glucose:140,feedback:Fair",
"id:7,name:Imran Hussain,age:66,doctor:Dr. Noor,hr:97,bp:142/90,glucose:165,feedback:Fair",
"id:8,name:Rida Aslam,age:54,doctor:Dr. Sara,hr:105,bp:149/94,glucose:172,feedback:Critical",
"id:9,name:Hassan Raza,age:27,doctor:Dr. Ahmed,hr:72,bp:117/79,glucose:88,feedback:Excellent",
"id:10,name:Fatima Sheikh,age:44,doctor:Dr. Bilal,hr:95,bp:134/89,glucose:130,feedback:Good",
"id:11,name:Bilal Khan,age:61,doctor:Dr. Sara,hr:99,bp:140/92,glucose:155,feedback:Fair",
"id:12,name:Khadija Amin,age:36,doctor:Dr. Ahmed,hr:85,bp:128/84,glucose:115,feedback:Good",
"id:13,name:Zain Ali,age:70,doctor:Dr. Noor,hr:101,bp:147/93,glucose:162,feedback:Critical",
"id:14,name:Sara Usman,age:48,doctor:Dr. Bilal,hr:78,bp:122/80,glucose:100,feedback:Excellent",
"id:15,name:Adeel Ahmad,age:55,doctor:Dr. Ahmed,hr:92,bp:130/85,glucose:138,feedback:Fair",
"id:16,name:Lubna Tariq,age:32,doctor:Dr. Sara,hr:87,bp:125/83,glucose:120,feedback:Good",
"id:17,name:Irfan Malik,age:68,doctor:Dr. Noor,hr:108,bp:150/95,glucose:175,feedback:Critical",
"id:18,name:Raheel Khan,age:40,doctor:Dr. Ahmed,hr:74,bp:119/77,glucose:93,feedback:Excellent",
"id:19,name:Saima Noor,age:59,doctor:Dr. Bilal,hr:90,bp:136/90,glucose:143,feedback:Fair",
"id:20,name:Taha Salman,age:25,doctor:Dr. Sara,hr:83,bp:121/81,glucose:108,feedback:Good",
"id:21,name:Hira Asghar,age:47,doctor:Dr. Ahmed,hr:96,bp:140/91,glucose:150,feedback:Fair",
"id:22,name:Zara Malik,age:33,doctor:Dr. Noor,hr:70,bp:115/75,glucose:85,feedback:Excellent",
"id:23,name:Rizwan Ali,age:62,doctor:Dr. Bilal,hr:104,bp:150/96,glucose:168,feedback:Critical",
"id:24,name:Shazia Ahmed,age:58,doctor:Dr. Sara,hr:88,bp:129/84,glucose:118,feedback:Good",
"id:25,name:Muhammad Iqbal,age:42,doctor:Dr. Ahmed,hr:76,bp:116/78,glucose:97,feedback:Excellent",
"id:26,name:Neha Khan,age:37,doctor:Dr. Noor,hr:91,bp:132/86,glucose:135,feedback:Good",
"id:27,name:Ali Raza,age:69,doctor:Dr. Bilal,hr:107,bp:152/97,glucose:178,feedback:Critical",
"id:28,name:Fahad Saleem,age:51,doctor:Dr. Ahmed,hr:80,bp:124/82,glucose:112,feedback:Good",
"id:29,name:Mahnoor Shah,age:60,doctor:Dr. Sara,hr:98,bp:141/93,glucose:158,feedback:Fair",
"id:30,name:Ammar Tariq,age:30,doctor:Dr. Noor,hr:75,bp:118/78,glucose:92,feedback:Excellent",
"id:31,name:Sana Javed,age:34,doctor:Dr. Bilal,hr:90,bp:130/88,glucose:140,feedback:Fair",
"id:32,name:Mubashir Ali,age:57,doctor:Dr. Ahmed,hr:103,bp:148/94,glucose:170,feedback:Critical",
"id:33,name:Ayesha Khan,age:46,doctor:Dr. Noor,hr:82,bp:125/83,glucose:115,feedback:Good",
"id:34,name:Omer Malik,age:39,doctor:Dr. Sara,hr:86,bp:128/85,glucose:122,feedback:Good",
"id:35,name:Fatima Raza,age:28,doctor:Dr. Ahmed,hr:72,bp:116/79,glucose:97,feedback:Excellent",
"id:36,name:Hammad Sheikh,age:49,doctor:Dr. Bilal,hr:94,bp:137/90,glucose:145,feedback:Fair",
"id:37,name:Saba Malik,age:64,doctor:Dr. Sara,hr:106,bp:151/97,glucose:173,feedback:Critical",
"id:38,name:Asad Ali,age:41,doctor:Dr. Noor,hr:77,bp:120/80,glucose:102,feedback:Good",
"id:39,name:Naima Iqbal,age:56,doctor:Dr. Ahmed,hr:95,bp:139/91,glucose:150,feedback:Fair",
"id:40,name:Waleed Khan,age:62,doctor:Dr. Bilal,hr:109,bp:155/98,glucose:180,feedback:Critical",
"id:41,name:Anam Fatima,age:43,doctor:Dr. Sara,hr:78,bp:122/81,glucose:104,feedback:Good",
"id:42,name:Adeel Qureshi,age:38,doctor:Dr. Ahmed,hr:92,bp:133/87,glucose:138,feedback:Fair",
"id:43,name:Sara Ali,age:29,doctor:Dr. Noor,hr:74,bp:119/78,glucose:96,feedback:Excellent",
"id:44,name:Talha Sharif,age:66,doctor:Dr. Bilal,hr:105,bp:149/96,glucose:168,feedback:Critical",
"id:45,name:Madiha Khan,age:61,doctor:Dr. Ahmed,hr:89,bp:135/89,glucose:142,feedback:Fair",
"id:46,name:Arslan Tariq,age:31,doctor:Dr. Sara,hr:73,bp:116/76,glucose:90,feedback:Excellent",
"id:47,name:Rehan Ahmed,age:52,doctor:Dr. Noor,hr:97,bp:141/92,glucose:152,feedback:Fair",
"id:48,name:Nida Malik,age:48,doctor:Dr. Bilal,hr:95,bp:138/90,glucose:148,feedback:Good",
"id:49,name:Salman Khan,age:40,doctor:Dr. Ahmed,hr:84,bp:124/83,glucose:118,feedback:Good",
"id:50,name:Uzma Raza,age:58,doctor:Dr. Sara,hr:103,bp:146/95,glucose:169,feedback:Critical"
]


 
data = []

for log in patients:
    parts = log.split(",")
    entry = {}

    for p in parts:
        key, value = p.split(":", 1)    

        if key in ["id", "age", "hr", "glucose"]:
            value = int(value)

        entry[key] = value

    data.append(entry)

print(data)


patient_count = 0
for d in data:
    patient_count += 1
print(patient_count)

from collections import defaultdict
doctors = {}
for p in patients :
    d = p["doctor"]
    doctors.setdefault(d, [])
    doctors[d].append(p["hr"])

for d in doctors:
    avg = sum(doctors[d]) / len(doctors[d])
    print(d, "=", avg)


high_hr = [p for p in patients if p["hr"] > 100]
print(len(high_hr))

low_gl = min(patients, key=lambda x: x["glucose"])
print(low_gl)


high_gl = max(patients, key=lambda x: x["glucose"])
print(high_gl)


alert_bp = []
for p in patients:
    sys, dia = map(int, p["bp"].split("/"))
    if sys > 140 or dia > 90:
        alert_bp.append(p)

print(alert_bp)


unique_doctors = len({p["doctor"] for p in patients})
print(unique_doctors)


fb = {}
for p in patients:
    f = p["feedback"]
    fb[f] = fb.get(f, 0) + 1

print(fb)


avg_hr = sum(p["hr"] for p in patients) / len(patients)
print(avg_hr)


for p in patients:
    hr = p["hr"]
    if hr < 80:
        p["grade"] = "A"
    elif hr <= 100:
        p["grade"] = "B"
    else:
        p["grade"] = "C"


for p in patients:
    p["glucose_new"] = round(p["glucose"] * 0.95)


summary = {}

for p in patients:
    d = p["doctor"]
    summary.setdefault(d, {"count": 0, "hr": [], "gl": []})
    summary[d]["count"] += 1
    summary[d]["hr"].append(p["hr"])
    summary[d]["gl"].append(p["glucose"])

for d, v in summary.items():
    print(d, "=> Patients:", v["count"],
          "Avg HR:", sum(v["hr"]) / len(v["hr"]),
          "Avg Glucose:", sum(v["gl"]) / len(v["gl"]))


seniors = [p for p in patients if p["age"] >= 60]
print(seniors)


for p in patients:
    sys, dia = map(int, p["bp"].split("/"))
    if sys > 140 or dia > 90 or p["feedback"] == "Critical":
        p["tag"] = "Severe"
    else:
        p["tag"] = "Normal"


sorted_age = sorted(patients, key=lambda x: x["age"], reverse=True)
print(sorted_age)


underrated = [
    p for p in patients
    if p["hr"] < 90 and p["feedback"] in ("Fair", "Critical")
]
print(underrated)


for p in patients:
    p["feedback"] = p["feedback"].lower()

critical_count = sum(1 for p in patients if p["feedback"] == "critical")
print(critical_count)


doc_counts = {}
for p in patients:
    doc_counts[p["doctor"]] = doc_counts.get(p["doctor"], 0) + 1

understaffed = [d for d, c in doc_counts.items() if c < 2]
print(understaffed)


for p in patients:
    print(f"{p['id']} | {p['name']} | Age {p['age']} | HR {p['hr']} | BP {p['bp']} | Gl {p['glucose']}")






 



